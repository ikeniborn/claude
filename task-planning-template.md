# Task Planning Template v2.1 (Structured Output)

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∑–∞–¥–∞—á–∏.
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∞–∑ –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç - —Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑, –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞.

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–¢–°–Ø –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–æ–≤.
–ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç Phase 1, –ù–ï —Å–æ–∑–¥–∞–µ—Ç git –≤–µ—Ç–∫—É, –ù–ï –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–¥.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –†–µ–∂–∏–º: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–ë–ï–ó –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- Thinking: enabled, mode=interleaved (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è reasoning)
- Structured Output: enabled (–¥–ª—è validation –∏ enforcement)
- –í–∞–ª–∏–¥–∞—Ü–∏—è: PRD compliance, acceptance criteria
- –†–µ–∑—É–ª—å—Ç–∞—Ç: Master Plan + Phase Files –≤ `plans/`

## –ü—Ä–∏–Ω—Ü–∏–ø—ã
1. **PRD Compliance** - –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è –î–û–õ–ñ–ù–´ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å PRD –∏–∑ `docs/prd`
2. **Acceptance Criteria** - –ø–ª–∞–Ω –î–û–õ–ñ–ï–ù –ø–æ–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
3. **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ —Ñ–∞–∑—ã** - –∑–∞–¥–∞—á–∞ –î–û–õ–ñ–ù–ê –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∑—ã (2-5)
4. **Structured Validation** - –∫–ª—é—á–µ–≤—ã–µ —à–∞–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç JSON Schema –¥–ª—è enforcement
5. **Plan Persistence** - –∫–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –î–û–õ–ñ–ù–ê –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ `plans/`
6. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - –ù–ï –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ–∞–∑—ã, —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω

---

## –ó–∞–¥–∞—á–∏

[–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]

---

## –ü—Ä–æ—Ü–µ—Å—Å

### PHASE 0: –ê–ù–ê–õ–ò–ó –ò –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï

---

#### **–®–∞–≥ 1. [THINKING - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û] –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –∏–∑—É—á–∏—Ç—å PRD**

```xml
<thinking>
–ó–ê–î–ê–ß–ê: [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
PRD –°–ï–ö–¶–ò–ò: [–∫–∞–∫–∏–µ —Å–µ–∫—Ü–∏–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã]
ACCEPTANCE CRITERIA: [–∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∑–∞–¥–∞—á–∏]
ALIGNMENT: [–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞—á–∏ PRD]
</thinking>
```

**–î–µ–π—Å—Ç–≤–∏—è:**
- –ü—Ä–æ—á–∏—Ç–∞—Ç—å `docs/prd` —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å alignment –∑–∞–¥–∞—á–∏ —Å PRD
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å acceptance criteria

**Exit Condition:**
- ‚úì PRD –ø—Ä–æ—á–∏—Ç–∞–Ω
- ‚úì Acceptance criteria –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úì Alignment –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ò–õ–ò –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω

**Violation Action:** STOP, —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Å PRD

---

#### **–®–∞–≥ 2. [THINKING - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**

```xml
<thinking>
–ö–û–ù–¢–ï–ö–°–¢: [—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã]
ROOT CAUSES: [—á—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å]
–ö–û–ú–ü–û–ù–ï–ù–¢–´: [–∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã/–º–æ–¥—É–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã]
–°–õ–û–ñ–ù–û–°–¢–¨: [–æ—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç—ã]
–ó–ê–í–ò–°–ò–ú–û–°–¢–ò: [–≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –µ—Å—Ç—å]
</thinking>
```

**–î–µ–π—Å—Ç–≤–∏—è:**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å root causes –ø—Ä–æ–±–ª–µ–º—ã
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –û—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ –æ–±—ä–µ–º —Ä–∞–±–æ—Ç—ã
- –ù–∞–π—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**Exit Condition:**
- ‚úì Root causes –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úì –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úì –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–µ–Ω–∞

---

#### **–®–∞–≥ 3. –ó–ê–î–ê–¢–¨ –£–¢–û–ß–ù–Ø–Æ–©–ò–ï –í–û–ü–†–û–°–´ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)**

**–ö–æ–≥–¥–∞ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å:**
- –ü—Ä–∏ –Ω–µ—è—Å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π ‚Üí –°–¢–û–ü –∏ —Å–ø—Ä–æ—Å–∏—Ç—å
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Å PRD ‚Üí –°–¢–û–ü –∏ —Å–ø—Ä–æ—Å–∏—Ç—å
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ ‚Üí –°–¢–û–ü –∏ —Å–ø—Ä–æ—Å–∏—Ç—å

**–§–æ—Ä–º–∞—Ç –≤–æ–ø—Ä–æ—Å–∞:**
```
‚ùì –¢–†–ï–ë–£–ï–¢–°–Ø –£–¢–û–ß–ù–ï–ù–ò–ï
–ù–µ—è—Å–Ω–æ: [—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ]
–í–∞—Ä–∏–∞–Ω—Ç—ã: [–æ–ø—Ü–∏–∏]
–í–æ–ø—Ä–æ—Å: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å]
```

---

#### **–®–∞–≥ 4. [THINKING + STRUCTURED OUTPUT] –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∑—ã**

**Validation:** `critical`
**Blocking:** `true`
**Output:** `required`

**–ß–∞—Å—Ç—å 4A: THINKING - Reasoning**

```xml
<thinking>
–î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–Ø:
–¶–µ–ª—å: –†–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ 2-5 –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∑

–ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏:
- –ö–∞–∫–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ —Ä–∞–±–æ—Ç—ã –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å?
- –ö–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã?
- –ì–¥–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤?

–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∞–∑—ã:
- –ß–µ—Ç–∫–∞—è —Ü–µ–ª—å (–ø–æ–Ω—è—Ç–Ω–∞ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)
- 3-7 –≤–∞–∂–Ω—ã—Ö —à–∞–≥–æ–≤ (–ù–ï –º–µ–ª–∫–æ!)
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç)
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (–º–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ–∞–∑)

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ñ–∞–∑—ã:
1. Phase 1: Git Setup + [–ø–µ—Ä–≤–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å]
   - –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: [–ø–æ—á–µ–º—É —ç—Ç–æ –ø–µ—Ä–≤–∞—è —Ñ–∞–∑–∞]
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: [—Å–ø–∏—Å–æ–∫]

2. Phase 2: [–≤—Ç–æ—Ä–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å]
   - –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: [–ø–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞]
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: [—Å–ø–∏—Å–æ–∫]

...

N. Phase N: [–ø–æ—Å–ª–µ–¥–Ω—è—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å]
   - –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: [–ø–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞]
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: [—Å–ø–∏—Å–æ–∫]

–í–ê–õ–ò–î–ê–¶–ò–Ø:
- –í—Å–µ acceptance criteria –ø–æ–∫—Ä—ã—Ç—ã? [–¥–∞/–Ω–µ—Ç + –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ]
- –§–∞–∑—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã? [–¥–∞/–Ω–µ—Ç + –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ]
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã? [–¥–∞/–Ω–µ—Ç + –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ]
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–∑ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ? (2-5) [–¥–∞/–Ω–µ—Ç + –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ]
</thinking>
```

**–ß–∞—Å—Ç—å 4B: STRUCTURED OUTPUT - Validation**

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏ JSON —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π schema:**

```json
{
  "task_decomposition": {
    "task_name": "string - –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",
    "prd_sections": ["FR-XXX", "NFR-YYY"],
    "base_branch": "master",
    "feature_branch": "feature/task-name",
    "total_phases": 3,

    "phases": [
      {
        "phase_number": 1,
        "name": "Git Setup + Component A",
        "goal": "–°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç A",
        "affected_files": [
          "backend/app/services/service_a.py",
          "backend/app/schemas/schema_a.py"
        ],
        "steps": [
          {
            "step_number": 1,
            "step_name": "–°–æ–∑–¥–∞—Ç—å git –≤–µ—Ç–∫—É",
            "actions": [
              "git checkout -b feature/task-name",
              "git push -u origin feature/task-name"
            ],
            "expected_result": "–í–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –∑–∞–ø—É—à–µ–Ω–∞"
          },
          {
            "step_number": 2,
            "step_name": "–°–æ–∑–¥–∞—Ç—å service",
            "actions": [
              "–°–æ–∑–¥–∞—Ç—å backend/app/services/service_a.py",
              "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã"
            ],
            "expected_result": "Service —Å–æ–∑–¥–∞–Ω —Å –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π"
          }
          // ... –º–∏–Ω–∏–º—É–º 3, –º–∞–∫—Å–∏–º—É–º 7 —à–∞–≥–æ–≤
        ],
        "completion_criteria": [
          "Service —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω",
          "Syntax check passed",
          "Git commit —Å–¥–µ–ª–∞–Ω"
        ],
        "commit_type": "feat",
        "commit_summary": "add service A with basic logic",
        "estimated_time": "30-45 min",
        "risks": [
          {
            "risk": "–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Å–µ—Ä–≤–∏—Å–æ–º",
            "mitigation": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å namespace –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º"
          }
        ]
      }
      // ... –≤—Å–µ–≥–æ 2-5 —Ñ–∞–∑
    ],

    "acceptance_criteria_mapping": [
      {
        "criterion": "AC1: Service –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã",
        "mapped_to_phases": [1, 2]
      },
      {
        "criterion": "AC2: API endpoint –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON",
        "mapped_to_phases": [2]
      }
    ],

    "global_risks": [
      {
        "risk": "–ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã",
        "mitigation": "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π test suite –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã"
      }
    ],

    "validation": {
      "all_acceptance_criteria_covered": true,
      "phases_logically_complete": true,
      "dependencies_minimal": true,
      "phase_count_adequate": true
    }
  }
}
```

**JSON Schema –¥–ª—è validation:**
```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "task_decomposition": {
      "type": "object",
      "properties": {
        "task_name": {"type": "string", "minLength": 5, "maxLength": 100},
        "prd_sections": {
          "type": "array",
          "minItems": 1,
          "items": {"type": "string"}
        },
        "base_branch": {"type": "string"},
        "feature_branch": {"type": "string", "pattern": "^feature/"},
        "total_phases": {"type": "integer", "minimum": 2, "maximum": 5},

        "phases": {
          "type": "array",
          "minItems": 2,
          "maxItems": 5,
          "items": {
            "type": "object",
            "properties": {
              "phase_number": {"type": "integer", "minimum": 1},
              "name": {"type": "string", "minLength": 10, "maxLength": 80},
              "goal": {"type": "string", "minLength": 20},
              "affected_files": {
                "type": "array",
                "minItems": 1,
                "items": {"type": "string"}
              },
              "steps": {
                "type": "array",
                "minItems": 3,
                "maxItems": 7,
                "items": {
                  "type": "object",
                  "properties": {
                    "step_number": {"type": "integer"},
                    "step_name": {"type": "string"},
                    "actions": {
                      "type": "array",
                      "minItems": 1,
                      "items": {"type": "string"}
                    },
                    "expected_result": {"type": "string"}
                  },
                  "required": ["step_number", "step_name", "actions", "expected_result"]
                }
              },
              "completion_criteria": {
                "type": "array",
                "minItems": 2,
                "items": {"type": "string"}
              },
              "commit_type": {
                "type": "string",
                "enum": ["feat", "fix", "refactor", "docs", "chore", "test", "perf"]
              },
              "commit_summary": {"type": "string", "maxLength": 72},
              "estimated_time": {"type": "string"},
              "risks": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "risk": {"type": "string"},
                    "mitigation": {"type": "string"}
                  },
                  "required": ["risk", "mitigation"]
                }
              }
            },
            "required": [
              "phase_number", "name", "goal", "affected_files",
              "steps", "completion_criteria", "commit_type", "commit_summary"
            ]
          }
        },

        "acceptance_criteria_mapping": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "criterion": {"type": "string"},
              "mapped_to_phases": {
                "type": "array",
                "minItems": 1,
                "items": {"type": "integer"}
              }
            },
            "required": ["criterion", "mapped_to_phases"]
          }
        },

        "global_risks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "risk": {"type": "string"},
              "mitigation": {"type": "string"}
            },
            "required": ["risk", "mitigation"]
          }
        },

        "validation": {
          "type": "object",
          "properties": {
            "all_acceptance_criteria_covered": {"type": "boolean"},
            "phases_logically_complete": {"type": "boolean"},
            "dependencies_minimal": {"type": "boolean"},
            "phase_count_adequate": {"type": "boolean"}
          },
          "required": [
            "all_acceptance_criteria_covered",
            "phases_logically_complete",
            "dependencies_minimal",
            "phase_count_adequate"
          ]
        }
      },
      "required": [
        "task_name", "prd_sections", "total_phases", "phases",
        "acceptance_criteria_mapping", "validation"
      ]
    }
  },
  "required": ["task_decomposition"]
}
```

**Exit Conditions:**
- ‚úì Thinking –≤—ã–ø–æ–ª–Ω–µ–Ω (reasoning –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω)
- ‚úì JSON Schema validation PASSED
- ‚úì 2-5 —Ñ–∞–∑ (enforced by schema)
- ‚úì –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞: 3-7 —à–∞–≥–æ–≤ (enforced by schema)
- ‚úì –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (enforced by schema)
- ‚úì validation.* –≤—Å–µ = true

**Violation Action:**
- JSON Schema error ‚Üí STOP, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É, RETRY
- validation.* = false ‚Üí STOP, –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é

---

#### **–®–∞–≥ 5. [AUTOMATIC] –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞**

**–û–ø–∏—Å–∞–Ω–∏–µ:** –≠—Ç–æ—Ç —à–∞–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç validated JSON –∏–∑ –®–∞–≥–∞ 4.

**–î–µ–π—Å—Ç–≤–∏—è:**
- –í–∑—è—Ç—å `task_decomposition` JSON –∏–∑ –®–∞–≥–∞ 4
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö

**Exit Condition:**
- ‚úì JSON –∏–∑ –®–∞–≥–∞ 4 –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úì –î–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤

---

#### **–®–∞–≥ 6. [BLOCKING - CRITICAL] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –≤ files**

**Validation:** `critical`
**Blocking:** `true`
**Output:** `required`

**–î–µ–π—Å—Ç–≤–∏—è:**

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
```bash
mkdir -p plans/
```

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Master Plan:**
   - –§–∞–π–ª: `plans/master-plan.md`
   - –ò—Å—Ç–æ—á–Ω–∏–∫: JSON –∏–∑ –®–∞–≥–∞ 4
   - –§–æ—Ä–º–∞—Ç: —Å–º. —Ä–∞–∑–¥–µ–ª "–§–æ—Ä–º–∞—Ç Master Plan" –Ω–∏–∂–µ

3. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Phase Files:**
   - –î–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –≤ `task_decomposition.phases[]`
   - –§–∞–π–ª: `plans/phase-{number}-{slug}.md`
   - –ò—Å—Ç–æ—á–Ω–∏–∫: `task_decomposition.phases[N]`
   - –§–æ—Ä–º–∞—Ç: —Å–º. —Ä–∞–∑–¥–µ–ª "–§–æ—Ä–º–∞—Ç Phase File" –Ω–∏–∂–µ

**–ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ slug:**
- –í–∑—è—Ç—å `phase.name`, —É–±—Ä–∞—Ç—å "Phase N: "
- Lowercase, –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã –Ω–∞ –¥–µ—Ñ–∏—Å—ã
- –£–¥–∞–ª–∏—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
- –ü—Ä–∏–º–µ—Ä: "Git Setup + Component A" ‚Üí "git-setup-component-a"

**Mandatory Output:**

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏:
```
üìÅ –§–ê–ô–õ–´ –ü–õ–ê–ù–ê –°–û–ó–î–ê–ù–´
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úì plans/master-plan.md (123 —Å—Ç—Ä–æ–∫)
‚úì plans/phase-1-git-setup-component-a.md (87 —Å—Ç—Ä–æ–∫)
‚úì plans/phase-2-api-endpoints.md (95 —Å—Ç—Ä–æ–∫)
‚úì plans/phase-3-frontend-integration.md (78 —Å—Ç—Ä–æ–∫)

–í–°–ï–ì–û: 4 —Ñ–∞–π–ª–∞, 383 —Å—Ç—Ä–æ–∫–∏

–í–ê–õ–ò–î–ê–¶–ò–Ø: ‚úì PASSED
```

**Exit Conditions:**
- ‚úì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `plans/` —Å–æ–∑–¥–∞–Ω–∞
- ‚úì `plans/master-plan.md` —Å–æ–∑–¥–∞–Ω
- ‚úì –í–°–ï `plans/phase-{N}-{slug}.md` —Å–æ–∑–¥–∞–Ω—ã (N —Ñ–∞–π–ª–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ñ–∞–∑)
- ‚úì –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É
- ‚úì Mandatory output –≤—ã–≤–µ–¥–µ–Ω

**Validation:**
- CRITICAL - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- CRITICAL - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ = total_phases + 1

**Violation Action:**
- FILE_CREATE_FAIL ‚Üí STOP, –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É, RETRY
- FORMAT_ERROR ‚Üí STOP, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç, RETRY
- –ù–µ–ª—å–∑—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –í–°–ï —Ñ–∞–π–ª–æ–≤

---

#### **–®–∞–≥ 7. [MANDATORY OUTPUT + STRUCTURED] –í—ã–≤–æ–¥ –ø–ª–∞–Ω–∞ –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è**

**Output:** `required`
**Blocking:** `true`

**–ß–∞—Å—Ç—å 7A: STRUCTURED OUTPUT - Validation**

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏ JSON:

```json
{
  "plan_summary": {
    "task_name": "string - –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",
    "prd_sections": ["FR-XXX"],
    "branch": "feature/task-name",
    "total_phases": 3,

    "phases_summary": [
      {
        "number": 1,
        "name": "Git Setup + Component A",
        "goal": "–°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç A",
        "files_count": 5,
        "steps_count": 5,
        "estimated_time": "30-45 min",
        "commit_message": "feat: add service A with basic logic"
      }
      // ... –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–∑
    ],

    "acceptance_criteria_status": [
      {
        "criterion": "AC1: Service –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã",
        "covered": true,
        "phases": [1, 2]
      }
    ],

    "risks_summary": {
      "phase_specific": 3,
      "global": 2,
      "high_priority": ["–ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã"]
    },

    "plan_files": [
      "plans/master-plan.md",
      "plans/phase-1-git-setup-component-a.md",
      "plans/phase-2-api-endpoints.md",
      "plans/phase-3-frontend-integration.md"
    ]
  }
}
```

**–ß–∞—Å—Ç—å 7B: GENERATE MARKDOWN - User Display**

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏ Markdown (–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑ JSON –≤—ã—à–µ):

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                    MASTER PLAN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üìã –ó–ê–î–ê–ß–ê: {task_name}
üìñ PRD: ‚úì {prd_sections joined}
üåø –í–ï–¢–ö–ê: {branch}
üìä –§–ê–ó–´: {total_phases} —Ñ–∞–∑—ã

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

Phase 1: {phases_summary[0].name}
  üéØ –¶–µ–ª—å: {goal}
  üìù –§–∞–π–ª—ã: {files_count} —Ñ–∞–π–ª–æ–≤
  üìå –®–∞–≥–∏: {steps_count} —à–∞–≥–æ–≤
  ‚è±Ô∏è –í—Ä–µ–º—è: ~{estimated_time}
  üíæ –ö–æ–º–º–∏—Ç: {commit_message}

Phase 2: {phases_summary[1].name}
  üéØ –¶–µ–ª—å: {goal}
  üìù –§–∞–π–ª—ã: {files_count} —Ñ–∞–π–ª–æ–≤
  üìå –®–∞–≥–∏: {steps_count} —à–∞–≥–æ–≤
  ‚è±Ô∏è –í—Ä–µ–º—è: ~{estimated_time}
  üíæ –ö–æ–º–º–∏—Ç: {commit_message}

[... –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–∑]

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

‚úÖ ACCEPTANCE CRITERIA MAPPING:

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ acceptance_criteria_status}
‚úì {criterion}
  ‚Üí –ü–æ–∫—Ä—ã—Ç–æ –≤ —Ñ–∞–∑–∞—Ö: {phases joined}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

‚ö†Ô∏è –†–ò–°–ö–ò:

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ:
{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ high_priority risk}
- {risk}

–í—Å–µ–≥–æ —Ä–∏—Å–∫–æ–≤: {phase_specific} –ø–æ —Ñ–∞–∑–∞–º + {global} –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üìÅ –§–ê–ô–õ–´ –ü–õ–ê–ù–ê:

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ plan_file}
‚úì {file}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

**Exit Conditions:**
- ‚úì JSON summary —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –≤—ã–≤–µ–¥–µ–Ω
- ‚úì Markdown –ø–ª–∞–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–∫–∞–∑–∞–Ω
- ‚úì –í–°–ï —Å–µ–∫—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (–§–ê–ó–´, MAPPING, –†–ò–°–ö–ò, –§–ê–ô–õ–´)

**Violation Action:**
- BLOCKING - –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–π—Ç–∏ –∫ Checkpoint –±–µ–∑ –≤—ã–≤–æ–¥–∞

---

#### **CHECKPOINT: [MANDATORY OUTPUT + STRUCTURED]**

**Blocking:** `true`
**Output:** `required`
**Validation:** `critical`

**–ß–∞—Å—Ç—å A: STRUCTURED OUTPUT - Validation**

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏ JSON:

```json
{
  "checkpoint": {
    "phase_number": 0,
    "phase_name": "–ê–ù–ê–õ–ò–ó –ò –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï",

    "checks": [
      {
        "check_id": 1,
        "check_name": "PRD —Å–µ–∫—Ü–∏–∏ –∏–∑—É—á–µ–Ω—ã",
        "status": "passed",
        "details": "–ò–∑—É—á–µ–Ω—ã —Å–µ–∫—Ü–∏–∏: FR-015, NFR-003"
      },
      {
        "check_id": 2,
        "check_name": "–ó–∞–¥–∞—á–∞ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ N —Ñ–∞–∑",
        "status": "passed",
        "details": "–°–æ–∑–¥–∞–Ω–æ 3 —Ñ–∞–∑—ã (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 2-5)"
      },
      {
        "check_id": 3,
        "check_name": "Master Plan —Å–æ–∑–¥–∞–Ω",
        "status": "passed",
        "details": "plans/master-plan.md (123 —Å—Ç—Ä–æ–∫)"
      },
      {
        "check_id": 4,
        "check_name": "Phase Files —Å–æ–∑–¥–∞–Ω—ã",
        "status": "passed",
        "details": "3 —Ñ–∞–π–ª–∞: phase-1, phase-2, phase-3"
      },
      {
        "check_id": 5,
        "check_name": "Acceptance Criteria –∑–∞–º–∞–ø–∏—Ä–æ–≤–∞–Ω—ã",
        "status": "passed",
        "details": "2 –∫—Ä–∏—Ç–µ—Ä–∏—è –ø–æ–∫—Ä—ã—Ç—ã —Ñ–∞–∑–∞–º–∏ 1-3"
      },
      {
        "check_id": 6,
        "check_name": "–†–∏—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã",
        "status": "passed",
        "details": "5 —Ä–∏—Å–∫–æ–≤ (3 –ø–æ —Ñ–∞–∑–∞–º + 2 –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö)"
      },
      {
        "check_id": 7,
        "check_name": "–ü–ª–∞–Ω –ø–æ–∫–∞–∑–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é",
        "status": "passed",
        "details": "Markdown summary –≤—ã–≤–µ–¥–µ–Ω"
      }
    ],

    "overall_result": "PASSED",
    "can_proceed_to_phase_1": true,
    "blocking_issues": []
  }
}
```

**JSON Schema –¥–ª—è validation:**
```json
{
  "type": "object",
  "properties": {
    "checkpoint": {
      "type": "object",
      "properties": {
        "phase_number": {"type": "integer"},
        "phase_name": {"type": "string"},
        "checks": {
          "type": "array",
          "minItems": 7,
          "maxItems": 7,
          "items": {
            "type": "object",
            "properties": {
              "check_id": {"type": "integer"},
              "check_name": {"type": "string"},
              "status": {
                "type": "string",
                "enum": ["passed", "failed"]
              },
              "details": {"type": "string"}
            },
            "required": ["check_id", "check_name", "status", "details"]
          }
        },
        "overall_result": {
          "type": "string",
          "enum": ["PASSED", "FAILED"]
        },
        "can_proceed_to_phase_1": {"type": "boolean"},
        "blocking_issues": {
          "type": "array",
          "items": {"type": "string"}
        }
      },
      "required": [
        "phase_number", "checks", "overall_result",
        "can_proceed_to_phase_1", "blocking_issues"
      ]
    }
  },
  "required": ["checkpoint"]
}
```

**–ß–∞—Å—Ç—å B: GENERATE MARKDOWN - Display**

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–µ—Å—Ç–∏:

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
              PHASE 0 CHECKPOINT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ check}
[{status ‚úì/‚úó}] {check_name}
    ‚îî‚îÄ {details}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–†–ï–ó–£–õ–¨–¢–ê–¢: {overall_result}
–ü–µ—Ä–µ—Ö–æ–¥ –∫ Phase 1: {can_proceed_to_phase_1 ? "ALLOWED" : "BLOCKED"}

{–µ—Å–ª–∏ blocking_issues –Ω–µ –ø—É—Å—Ç–æ}
‚ö†Ô∏è –ë–õ–û–ö–ò–†–£–Æ–©–ò–ï –ü–†–û–ë–õ–ï–ú–´:
{–¥–ª—è –∫–∞–∂–¥–æ–π issue}
- {issue}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

**Exit Conditions:**
- ‚úì –í–°–ï 7 checks –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (enforced by minItems: 7)
- ‚úì overall_result = "PASSED" (–µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω check.status = "failed" ‚Üí FAILED)
- ‚úì can_proceed_to_phase_1 = true
- ‚úì blocking_issues = [] (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- ‚úì JSON validation PASSED
- ‚úì Markdown display –≤—ã–≤–µ–¥–µ–Ω

**Validation Rules:**
```javascript
// –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è overall_result
if (checks.some(c => c.status === "failed")) {
  overall_result = "FAILED"
  can_proceed_to_phase_1 = false
  blocking_issues = checks.filter(c => c.status === "failed")
                          .map(c => c.check_name)
} else {
  overall_result = "PASSED"
  can_proceed_to_phase_1 = true
  blocking_issues = []
}
```

**Violation Action:**
- overall_result = "FAILED" ‚Üí BLOCKING, –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ Phase 1
- blocking_issues –Ω–µ –ø—É—Å—Ç–æ ‚Üí STOP, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏
- Schema validation error ‚Üí STOP, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

---

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –¢–û–ß–ö–ê –û–°–¢–ê–ù–û–í–ö–ò

**–≠–¢–û –ù–ï –§–ê–ó–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø!**

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –ó–ê–í–ï–†–®–ï–ù–ò–ï –ü–†–û–¶–ï–°–°–ê –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø.
–ù–ï –ø—É—Ç–∞—Ç—å —Å "Phase 1" —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–ª–∞–Ω–∞ - —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏!

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ:**
- ‚úì –í—ã–≤–æ–¥–∏—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úì –†–∞–±–æ—Ç–∞ –ü–û–õ–ù–û–°–¢–¨–Æ –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–¢–°–Ø
- ‚úó –ù–ò–ö–ê–ö–û–ì–û –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–∞–∑ –ø–ª–∞–Ω–∞
- ‚úó –ù–ò–ö–ê–ö–û–ì–û –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ task-execution

---

### FINAL STEP: –ó–ê–í–ï–†–®–ï–ù–ò–ï –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø

**Entry Conditions:**
- ‚úì Phase 0 checkpoint.overall_result = "PASSED" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
- ‚úì Phase 0 checkpoint.can_proceed_to_phase_1 = true (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
- ‚úì Phase 0 checkpoint.blocking_issues = [] (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
- ‚úì –í—Å–µ —Ñ–∞–π–ª—ã –ø–ª–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `plans/`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ Entry Conditions:**

–ü–ï–†–ï–î —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —à–∞–≥–æ–º –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å checkpoint JSON –∏–∑ Phase 0
2. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚Üí STOP, –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ Phase 0

**Violation Action:**
- Entry condition –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚Üí FATAL STOP
- –ù–ï –≤—ã–≤–æ–¥–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ù–ï –∑–∞–≤–µ—Ä—à–∞—Ç—å —Ä–∞–±–æ—Ç—É
- –°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –ø—Ä–æ–±–ª–µ–º–µ

---

#### **–®–∞–≥ 8. [MANDATORY] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**

**Validation:** `critical`
**Blocking:** `true`

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `plans/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `plans/master-plan.md`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö `plans/phase-{N}-{slug}.md` —Ñ–∞–π–ª–æ–≤
4. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å = total_phases + 1)

**Mandatory Output:**
```
‚úÖ –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –§–ê–ô–õ–û–í –ü–õ–ê–ù–ê

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: plans/ ‚úì
Master Plan: plans/master-plan.md ‚úì
Phase Files: {N} —Ñ–∞–π–ª–æ–≤ ‚úì
  ‚úì plans/phase-1-{slug}.md
  ‚úì plans/phase-2-{slug}.md
  ...

–í–°–ï–ì–û –§–ê–ô–õ–û–í: {N+1} (–æ–∂–∏–¥–∞–ª–æ—Å—å: {total_phases + 1})
–°–¢–ê–¢–£–°: ‚úì ALL FILES VERIFIED
```

**Exit Conditions:**
- ‚úì –í—Å–µ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚úì –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úì Mandatory output –≤—ã–≤–µ–¥–µ–Ω

**Violation Action:**
- –§–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí FATAL STOP, –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –®–∞–≥—É 6
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Üí FATAL STOP, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –®–∞–≥ 6

---

**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           ‚úÖ –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–°–¢–ê–¢–£–°: ‚úì COMPLETED

üìÅ –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´:

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ plan_files}
‚úì {file}

–í–°–ï–ì–û: {–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ} —Ñ–∞–π–ª–æ–≤

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üõëüõëüõë –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û üõëüõëüõë

‚ö†Ô∏è –†–ï–ñ–ò–ú: –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï (–ó–ê–í–ï–†–®–ï–ù)
‚ö†Ô∏è –í–´–ü–û–õ–ù–ï–ù–ò–ï –§–ê–ó: –ù–ï –ù–ê–ß–ê–¢–û
‚ö†Ô∏è –°–õ–ï–î–£–Æ–©–ï–ï –î–ï–ô–°–¢–í–ò–ï: –û–°–¢–ê–ù–û–í–ö–ê –†–ê–ë–û–¢–´

–≠–¢–û –®–ê–ë–õ–û–ù –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø - –ù–ï –í–´–ü–û–õ–ù–ï–ù–ò–Ø!

‚ùå –ù–ï –≤—ã–ø–æ–ª–Ω—è—Ç—å Phase 1 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚ùå –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ task-execution-template.md
‚ùå –ù–ï –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–∏–∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –ø–ª–∞–Ω–∞
‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å git –≤–µ—Ç–∫—É
‚ùå –ù–ï –∏–∑–º–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã –∫–æ–¥–∞

‚úÖ –¢–û–õ–¨–ö–û: –í—ã–≤–µ—Å—Ç–∏ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üìã –ß–¢–û –î–ê–õ–¨–®–ï (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):

–ü–ª–∞–Ω—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é.
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –û–¢–î–ï–õ–¨–ù–´–ô –∑–∞–ø—Ä–æ—Å:

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–∞–∑—ã 1:
"–í—ã–ø–æ–ª–Ω–∏ —Ñ–∞–∑—É: plans/phase-1-{slug}.md –∏—Å–ø–æ–ª—å–∑—É—è task-execution-template.md"

‚ö†Ô∏è –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º!

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üõë –†–ê–ë–û–¢–ê –ó–ê–í–ï–†–®–ï–ù–ê. –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–Æ–°–¨ –ó–î–ï–°–¨.

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

**Exit Conditions (CRITICAL):**
- ‚úì –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ–Ω–æ –ü–û–õ–ù–û–°–¢–¨–Æ
- ‚úì –†–∞–±–æ—Ç–∞ –ù–ï–ú–ï–î–õ–ï–ù–ù–û –û–°–¢–ê–ù–û–í–õ–ï–ù–ê
- ‚úì –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –ø–ª–∞–Ω–∞
- ‚úì –ù–ï —Å–æ–∑–¥–∞–Ω–æ –Ω–∏–∫–∞–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∫—Ä–æ–º–µ plans/
- ‚úì –ù–ï –≤—ã–∑–≤–∞–Ω task-execution-template.md
- ‚úì –ù–ï –Ω–∞—á–∞—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Phase 1

**MANDATORY STOP:**
–ü–æ—Å–ª–µ –≤—ã–≤–æ–¥–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
- –ù–ï–ú–ï–î–õ–ï–ù–ù–ê–Ø –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ–π —Ä–∞–±–æ—Ç—ã
- –ù–ï –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å plan files –∫–∞–∫ –∫–æ–º–∞–Ω–¥—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
- –ñ–î–ê–¢–¨ –Ω–æ–≤–æ–≥–æ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Violation Action:**
–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∞–∑ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
- –û–®–ò–ë–ö–ê: –ù–∞—Ä—É—à–µ–Ω —Ä–µ–∂–∏–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –®–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ –ø–ª–∞–Ω–æ–≤

### –§–æ—Ä–º–∞—Ç Master Plan (plans/master-plan.md)

**–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑:** `task_decomposition` JSON

```markdown
# Master Plan: {task_name}

## Metadata
- **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** {YYYY-MM-DD HH:MM}
- **PRD —Å–µ–∫—Ü–∏–∏:** {prd_sections joined}
- **–í–µ—Ç–∫–∞:** {feature_branch}
- **–ë–∞–∑–∞:** {base_branch}

## –û–±—â–∏–π –æ–±–∑–æ—Ä

### –ü—Ä–æ–±–ª–µ–º–∞
{–∏–∑–≤–ª–µ—á—å –∏–∑ thinking —à–∞–≥–∞ 2: ROOT CAUSES}

### –†–µ—à–µ–Ω–∏–µ
{–∏–∑–≤–ª–µ—á—å –∏–∑ thinking —à–∞–≥–∞ 4: –æ–±—â–∏–π –ø–æ–¥—Ö–æ–¥}

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
{–¥–ª—è –∫–∞–∂–¥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π affected_files –∏–∑ –≤—Å–µ—Ö —Ñ–∞–∑}
- {component} - {–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ —à–∞–≥–∞ 2}

## –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ —Ñ–∞–∑—ã

{–¥–ª—è –∫–∞–∂–¥–æ–π phase –≤ phases[]}
### Phase {phase_number}: {name}
**–¶–µ–ª—å:** {goal}
**–§–∞–π–ª—ã:** {affected_files joined}
**–®–∞–≥–∏:** {steps.length} —à–∞–≥–æ–≤
**–í—Ä–µ–º—è:** ~{estimated_time}
**–î–µ—Ç–∞–ª–∏:** `plans/phase-{phase_number}-{slug}.md`

## –û–±—â–∏–µ —Ä–∏—Å–∫–∏

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ risk –≤ global_risks}
- {risk} ‚Üí {mitigation}

## Acceptance Criteria Mapping

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ mapping –≤ acceptance_criteria_mapping}
- [ ] {criterion} ‚Üí Phase {mapped_to_phases joined}

## –û–±—â–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ–∞–∑ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
{—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ acceptance_criteria_mapping}
- –í—Å–µ acceptance criteria –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- PRD —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ–±–ª—é–¥–µ–Ω—ã
```

---

### –§–æ—Ä–º–∞—Ç Phase File (plans/phase-N-slug.md)

**–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑:** `task_decomposition.phases[N]` JSON

```markdown
# Phase {phase_number}: {name}

## –¶–µ–ª—å
{goal}

## –ö–æ–Ω—Ç–µ–∫—Å—Ç
- **–ù–æ–º–µ—Ä —Ñ–∞–∑—ã:** {phase_number} –∏–∑ {total_phases}
- **–í–µ—Ç–∫–∞:** {feature_branch} {–µ—Å–ª–∏ phase_number > 1, –∏–Ω–∞—á–µ "–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞"}
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** {–¥–ª—è —Ñ–∞–∑—ã 1: "N/A", –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö: summary –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ–∞–∑}
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** {–∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ–∞–∑}

## –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ step –≤ steps[]}
### {step_number}. {step_name}

**–î–µ–π—Å—Ç–≤–∏—è:**
{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ action –≤ actions[]}
- {action}

**–§–∞–π–ª—ã:** `{–∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã –∏–∑ affected_files, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–ª—è —ç—Ç–æ–≥–æ —à–∞–≥–∞}`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** {expected_result}

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ criterion –≤ completion_criteria}
- [ ] {criterion}

## Commit Message

```
{commit_type}: {commit_summary}

{–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:
- —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ steps[].actions
- —á—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- —á—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ
- —á—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ}
```

## –†–∏—Å–∫–∏ —Ñ–∞–∑—ã

{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ risk –≤ risks}
- {risk} ‚Üí {mitigation}

## –í–∞–ª–∏–¥–∞—Ü–∏—è

**Syntax Check:**
{–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ affected_files}
- {–∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞}

**Functional Check:**
{—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ expected_result –∏–∑ steps}
- {–∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π expected_result}

**PRD Compliance:**
{–¥–ª—è –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∏–∑ acceptance_criteria_mapping, –ø–æ–∫—Ä—ã—Ç—ã—Ö —ç—Ç–æ–π —Ñ–∞–∑–æ–π}
- {–∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PRD}
```

---

## Error Handling

**PRD_CONFLICT:**
- Action: STOP
- Message: "‚ùå –û–®–ò–ë–ö–ê: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å PRD\n–ü—Ä–æ–±–ª–µ–º–∞: {–æ–ø–∏—Å–∞–Ω–∏–µ}\n–ö–æ–Ω—Ç–µ–∫—Å—Ç: {PRD —Å–µ–∫—Ü–∏—è}\n–î–µ–π—Å—Ç–≤–∏–µ: –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"

**UNCLEAR_REQUIREMENTS:**
- Action: STOP
- Message: "‚ùì –¢–†–ï–ë–£–ï–¢–°–Ø –£–¢–û–ß–ù–ï–ù–ò–ï\n–ù–µ—è—Å–Ω–æ: {—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ}\n–í–∞—Ä–∏–∞–Ω—Ç—ã: {–æ–ø—Ü–∏–∏}\n–î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"

**MISSING_CRITICAL_INFO:**
- Action: STOP
- Message: "‚ö†Ô∏è –û–®–ò–ë–ö–ê: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n–ü—Ä–æ–±–ª–µ–º–∞: {—á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç}\n–î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"

**JSON_SCHEMA_VALIDATION_ERROR:**
- Action: STOP
- Message: "‚ùå –û–®–ò–ë–ö–ê: Structured Output –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é\n–ü—Ä–æ–±–ª–µ–º–∞: {schema error}\n–ö–æ–Ω—Ç–µ–∫—Å—Ç: {–∫–∞–∫–æ–π —à–∞–≥}\n–î–µ–π—Å—Ç–≤–∏–µ: RETRY —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã"

**DECOMPOSITION_FAIL:**
- Action: RETRY
- Message: "‚ö†Ô∏è –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å (–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º)\n–ü—Ä–æ–±–ª–µ–º–∞: {—á—Ç–æ –Ω–µ —Ç–∞–∫}\n–î–µ–π—Å—Ç–≤–∏–µ: –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑–±–∏–µ–Ω–∏—é –Ω–∞ —Ñ–∞–∑—ã"

**FILE_CREATE_FAIL:**
- Action: STOP, RETRY
- Message: "‚ùå –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–ª–∞–Ω–∞\n–ü—Ä–æ–±–ª–µ–º–∞: {—Ñ–∞–π–ª}\n–î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É —Å–æ–∑–¥–∞–Ω–∏—è"

**PHASE_EXIT_CONDITION_FAIL:**
- Action: BLOCKING
- Message: "üõë –ë–õ–û–ö–ò–†–û–í–ö–ê: Exit condition –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω\n–ü—Ä–æ–±–ª–µ–º–∞: {–∫–∞–∫–æ–µ —É—Å–ª–æ–≤–∏–µ}\n–ö–æ–Ω—Ç–µ–∫—Å—Ç: {–∫–∞–∫–æ–π —à–∞–≥}\n–î–µ–π—Å—Ç–≤–∏–µ: –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π"

**CHECKPOINT_FAILED:**
- Action: BLOCKING
- Message: "üõë CHECKPOINT FAILED\n–ü—Ä–æ–±–ª–µ–º—ã: {blocking_issues[]}\n–î–µ–π—Å—Ç–≤–∏–µ: –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ Phase 1, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏"

**ENTRY_CONDITION_VIOLATION:**
- Action: FATAL STOP
- Message: "üî¥ FATAL: Entry condition –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ\n–§–∞–∑–∞: {phase_name}\n–ü—Ä–æ–±–ª–µ–º–∞: {–∫–∞–∫–æ–µ —É—Å–ª–æ–≤–∏–µ}\n–î–µ–π—Å—Ç–≤–∏–µ: –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ñ–∞–∑–µ"

---

## Startup Sequence

**–ö–†–ò–¢–ò–ß–ù–û - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –°–¢–†–û–ì–û –≤ —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ:**

1. ‚úì –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∑–∞–¥–∞—á–∏ –∏–∑ –ø—Ä–æ–º–ø—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. ‚úì **–ü–ï–†–í–´–ú –î–ï–õ–û–ú** –∑–∞–≥—Ä—É–∑–∏—Ç—å PRD –∏–∑ `docs/prd`
3. ‚úì –®–∞–≥ 1: THINKING - –∞–Ω–∞–ª–∏–∑ PRD –∏ alignment
4. ‚úì –®–∞–≥ 2: THINKING - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
5. ‚úì –®–∞–≥ 3: –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
6. ‚úì –®–∞–≥ 4A: THINKING - reasoning –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
7. ‚úì –®–∞–≥ 4B: STRUCTURED OUTPUT - JSON validation
8. ‚úì –®–∞–≥ 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
9. ‚úì –®–∞–≥ 6: BLOCKING - —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –ø–ª–∞–Ω–æ–≤
10. ‚úì –®–∞–≥ 7A: STRUCTURED OUTPUT - summary JSON
11. ‚úì –®–∞–≥ 7B: –í—ã–≤–µ—Å—Ç–∏ Markdown –ø–ª–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
12. ‚úì CHECKPOINT: STRUCTURED OUTPUT + Markdown (Phase 0)
13. ‚úì ‚ö†Ô∏è –¢–û–ß–ö–ê –û–°–¢–ê–ù–û–í–ö–ò: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞
14. ‚úì –®–∞–≥ 8: MANDATORY - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
15. ‚úì FINAL STEP: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
16. ‚úì **–ù–ï–ú–ï–î–õ–ï–ù–ù–ê–Ø –û–°–¢–ê–ù–û–í–ö–ê** - –ù–ï –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ–∞–∑—ã –ø–ª–∞–Ω–∞!

**Enforcement:**
- –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞
- –ù–ï –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Å PRD - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –û–°–¢–ê–ù–û–í–ö–ê
- –ü—Ä–∏ schema validation error - STOP, RETRY
- –ü—Ä–∏ checkpoint FAILED - BLOCKING
- –ü–æ—Å–ª–µ –®–∞–≥–∞ 16 - MANDATORY STOP, –Ω–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ù–ï –Ω–∞—á–∏–Ω–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Phase 1 –∏–∑ –ø–ª–∞–Ω–∞
- –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ task-execution-template.md

---

## –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### ‚úÖ –í–°–ï–ì–î–ê –î–ï–õ–ê–ô–¢–ï:
- ‚úì –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ THINKING –¥–ª—è reasoning (—à–∞–≥–∏ 1, 2, 4A)
- ‚úì –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ STRUCTURED OUTPUT –¥–ª—è validation (—à–∞–≥–∏ 4B, 7A, Checkpoint)
- ‚úì –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ Markdown –ò–ó validated JSON (—à–∞–≥–∏ 7B, Checkpoint B)
- ‚úì –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ exit_conditions –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- ‚úì –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ entry_conditions –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Ñ–∞–∑–æ–π
- ‚úì –í—ã–≤–æ–¥–∏—Ç–µ mandatory outputs –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- ‚úì –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å –ø—Ä–∏ BLOCKING/CRITICAL errors
- ‚úì –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –í–°–ï —Ñ–∞–π–ª—ã –ø–ª–∞–Ω–æ–≤ (master + N phases)
- ‚úì –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–®–∞–≥ 8)
- ‚úì –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ô–¢–ï–°–¨ –ø–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

### ‚ùå –ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–ô–¢–ï:
- ‚ùå –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ —à–∞–≥–∏
- ‚ùå –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ thinking
- ‚ùå –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ structured output validation
- ‚ùå –ù–ï –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∏ schema validation errors
- ‚ùå –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ Phase 1 –ø—Ä–∏ checkpoint FAILED
- ‚ùå –ù–ï –Ω–∞—á–∏–Ω–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∞–∑ –ø–ª–∞–Ω–∞ (—ç—Ç–æ –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï!)
- ‚ùå –ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ exit_conditions
- ‚ùå –ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ entry_conditions
- ‚ùå –ù–ï —Å–æ–∫—Ä–∞—â–∞–π—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ outputs
- ‚ùå –ù–ï –ø—É—Ç–∞–π—Ç–µ "FINAL STEP" —Å "Phase 1 –ø–ª–∞–Ω–∞"
- ‚ùå –ù–ï –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
- ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ git –≤–µ—Ç–∫–∏
- ‚ùå –ù–ï –∏–∑–º–µ–Ω—è–π—Ç–µ –∫–æ–¥
- ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ task-execution-template.md –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v2.0

### Structured Output –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
1. ‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏—é 2-5 —Ñ–∞–∑** (schema: minItems: 2, maxItems: 5)
2. ‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏—é 3-7 —à–∞–≥–æ–≤** (schema: minItems: 3, maxItems: 7)
3. ‚úÖ **–ü–æ–ª–Ω–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö** (required fields enforced)
4. ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã** (commit_type enum, booleans –¥–ª—è validation)
5. ‚úÖ **–¢–æ—á–Ω–æ 7 checks** –≤ checkpoint (minItems: 7, maxItems: 7)
6. ‚úÖ **–ü—Ä–æ–≥—Ä–∞–º–º–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é** (JSON ‚Üí –ª–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
7. ‚úÖ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** (JSON ‚Üí Markdown generation)

### vs v1.0:
- ‚ùå v1.0: Claude –º–æ–≥ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é
- ‚úÖ v2.0: Schema validation –û–®–ò–ë–ö–ê –µ—Å–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–æ

- ‚ùå v1.0: Claude –º–æ–≥ —Å–¥–µ–ª–∞—Ç—å 1 —Ñ–∞–∑—É –∏–ª–∏ 10 —Ñ–∞–∑
- ‚úÖ v2.0: Schema validation –û–®–ò–ë–ö–ê –µ—Å–ª–∏ <2 –∏–ª–∏ >5

- ‚ùå v1.0: Claude –º–æ–≥ –∑–∞–±—ã—Ç—å —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã
- ‚úÖ v2.0: BLOCKING —à–∞–≥ 6 + exit_conditions

- ‚ùå v1.0: Claude –º–æ–≥ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å checkpoint
- ‚úÖ v2.0: MANDATORY OUTPUT + schema validation

---

## –í–µ—Ä—Å–∏—è

**Template Version:** 2.1
**–î–∞—Ç–∞:** 2025-11-18

### –ò–∑–º–µ–Ω–µ–Ω–∏—è v2.1:
- ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ "PHASE 1: –ó–ê–í–ï–†–®–ï–ù–ò–ï" ‚Üí "FINAL STEP: –ó–ê–í–ï–†–®–ï–ù–ò–ï –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —è–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è "‚ö†Ô∏è –¢–û–ß–ö–ê –û–°–¢–ê–ù–û–í–ö–ò" –ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —à–∞–≥–æ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –®–∞–≥ 8: Mandatory –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –£—Å–∏–ª–µ–Ω–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å multiple STOP indicators
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã explicit STOP conditions (–ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å git –≤–µ—Ç–∫—É, –ù–ï –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥, etc.)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Startup Sequence (16 —à–∞–≥–æ–≤ –≤–º–µ—Å—Ç–æ 14)
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω —Å–ø–∏—Å–æ–∫ "–ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–ô–¢–ï" —Å —è–≤–Ω—ã–º–∏ –∑–∞–ø—Ä–µ—Ç–∞–º–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –†–µ—à–∞–µ–º–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
Claude Code –ø—É—Ç–∞–ª "PHASE 1" (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è) —Å "Phase 1" (–ø–µ—Ä–≤–∞—è —Ñ–∞–∑–∞ –ø–ª–∞–Ω–∞)
–∏ –Ω–∞—á–∏–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏. v2.1 —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —ç—Ç—É –ø—É—Ç–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞ "PHASE 1" –∏–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —à–∞–≥–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ explicit STOP enforcement
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º

### –ò–∑–º–µ–Ω–µ–Ω–∏—è v2.0 (2025-11-17):
- –î–æ–±–∞–≤–ª–µ–Ω structured output –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —à–∞–≥–æ–≤
- –£—Å–∏–ª–µ–Ω enforcement —á–µ—Ä–µ–∑ JSON Schema
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown –∏–∑ JSON
- –£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è checkpoint
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç—Ä–æ–≥–∏–µ entry/exit conditions
